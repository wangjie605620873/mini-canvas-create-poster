Page({
  data: {
    list: [
      {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 1
      },
      {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 2
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 3
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 4
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 5
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 4
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 5
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 4
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 5
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 4
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 5
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 4
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 5
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 4
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 5
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 4
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 5
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 4
      }, {
        title: "国家会议中心阿拉丁年会",
        image: "http://thirdwx.qlogo.cn/mmopen/5drgDUtzBT0qhUiaIxZgqkiaXMRwZYsibWFJE0K2TAQI1n3iciat9BuFicRV1kodCm1Ryb1g6FAzfHzKLlFCgBmadHT0OCHZl2jicOZ/132",
        id: 5
      }
    ],
    animationStart: "",
    activeIndex: '',
    startClient: '',
    animationClose : "",
  },
  onLoad: function () {
    this.animationStart = wx.createAnimation({
      duration: 450,
      timingFunction: 'ease',
      delay: 0,
      transformOrigin: 'left top 0',
      success: function (res) {
        this.setData({
          startClient: ''
        })
      }
    })
    this.animationClose = wx.createAnimation({
      duration: 450,
      timingFunction: 'ease',
      delay: 0,
      transformOrigin: 'left top 0',
      success: function (res) {}
    })
  },
  touchS: function (e) {  //滑动开始
  console.log(e,'start')
    this.setData({
      activeIndex: e.currentTarget.dataset.index, //设置当前滑动  元素的 index
      startClient: e.changedTouches[0].clientX,   //滑动元素的  起始x  位置
      animationStart: ""
    })
  },
  touchE: function (e) { //滑动结束
  console.log(e,'end')
    var clientX = e.changedTouches[0].clientX  //计算当前移动的距离

    if (clientX - this.data.startClient > 60) {    //起始点 - 结束点   关闭
      this.animationStart.left(0).step()
    } else if (clientX - this.data.startClient  < -60) {  //打开
      this.animationStart.left(-180).step()   
      this.animationClose.left(0).step()//关闭上一个
    }
    this.setData({
      animationStart: this.animationStart.export(),
      animationClose: this.animationClose.export()
    })
  }
})